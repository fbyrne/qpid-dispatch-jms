router {
    mode: standalone
    id: Router.A
}

listener {
    host: 0.0.0.0
    port: amqp
    authenticatePeer: no
}

connector {
    name: BROKER1
    host: broker1
    port: amqp
    role: route-container
    saslMechanisms: PLAIN DIGEST-MD5 CRAM-MD5
    saslUsername: admin
    saslPassword: admin
}

connector {
    name: BROKER2
    host: broker2
    port: amqp
    role: route-container
    saslMechanisms: PLAIN DIGEST-MD5 CRAM-MD5
    saslUsername: admin
    saslPassword: admin
}

address {
    prefix: requests
    waypoint: yes
}

autoLink {
    addr: requests
    connection: BROKER1
    direction: in
}

autoLink {
    addr: requests
    connection: BROKER1
    direction: out
}

autoLink {
    addr: requests
    connection: BROKER2
    direction: in
}

autoLink {
    addr: requests
    connection: BROKER2
    direction: out
}

log {
    module: DEFAULT
    enable: debug+
    includeTimestamp: yes
}
